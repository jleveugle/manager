<div class="oui-tile__definition">
    <div data-ng-show="$ctrl.allTasks.length">
        <table class="table table-hover table-condensed">
            <thead>
                <tr>
                    <th scope="col" data-translate="telecom_task_function"></th>
                    <th class="overflow-visible text-center" scope="col">
                        <div class="mt-4">
                            <oui-select name="status"
                                        data-align="start"
                                        data-model="$ctrl.filterSelect.status"
                                        data-items="$ctrl.filterChoices"
                                        data-match="tip"
                                        data-on-change="$ctrl.filterTasksByStatus($ctrl.filterSelect.status)">
                                <span class="ovh-font" data-ng-class="$item.icon"></span>
                                <span data-ng-bind="$item.tip"></span>
                            </oui-select>
                        </div>
                    </th>
                    <th scope="col" data-translate="telecom_task_date"></th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-repeat="task in $ctrl.paginatedTasks track by task.id">
                    <td scope="row"
                        data-translate-attr="{title:'telecom_task_function'}"
                        data-translate="task.function"></td>
                    <td data-title="{{'telecom_task_status' | translate}}" class="text-center">
                        <oui-spinner data-ng-show="task.status.spinner"
                                     data-size="s">
                        </oui-spinner>
                        <span data-ng-if="task.status.icon && !task.status.spinner"
                              class="ovh-font"
                              data-ng-class="task.status.icon"
                              data-uib-tooltip="{{ task.status.tip }}"
                              aria-hidden="true"></span>
                    </td>
                    <td data-translate-attr="{title:'telecom_task_date'}"
                        data-ng-bind="(task.updateDate | date:'dd/MM/yyyy')"></td>
                </tr>
            </tbody>
        </table>

        <div class="mt-2"
             data-pagination-front
             data-items="$ctrl.statusFilteredTasks"
             data-paginated-items="$ctrl.paginatedTasks"
             data-items-per-page="$ctrl.filter.perPage"
             data-go-to-page="false">
        </div>
    </div>
</div>
